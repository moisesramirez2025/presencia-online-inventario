client/src/App.jsx

// client/src/App.jsx
import { Routes, Route, Navigate } from 'react-router-dom';
import Navbar from './components/Navbar.jsx';
import Footer from './components/Footer.jsx';
import Landing from './pages/Landing.jsx';
import AdminLogin from './pages/AdminLogin.jsx';
import InventoryView from './pages/InventoryView.jsx'; // ojo: extensión e import correctos
import ProtectedRoute from './components/ProtectedRoute.jsx';
import RegisterOwner from './pages/RegisterOwner.jsx';

// (opcional) si vas a usar luego:
// import Products from './pages/Products.jsx';
// import Quote from './pages/Quote.jsx';
import AdminDashboard from './pages/AdminDashboard.jsx';

import VentasPage from "./pages/VentasPage";

export default function App() {
  return (
    <div className="min-h-screen flex flex-col">
      <Navbar />
      <main className="flex-1">
        <Routes>
          {/* Pública */}
          <Route path="/" element={<Landing />} />

          {/* Login admin */}
          <Route path="/login" element={<AdminLogin />} />
          <Route path="/registro" element={<RegisterOwner />} />
          <Route path='/dashboard' element={<AdminDashboard />} />
          <Route path="/ventas" element={<VentasPage />} />

          {/* Panel principal del admin: Inventario (PROTEGIDA) */}
          <Route
            path="/inventario"
            element={
              <ProtectedRoute>
                <InventoryView />
              </ProtectedRoute>
            }
          />

          {/* (Opcional, para después) */}
          {/* <Route path="/productos" element={<Products />} /> */}
          {/* <Route path="/cotizar" element={<Quote />} /> */}
          {/* <Route path="/admin" element={<ProtectedRoute><AdminDashboard /></ProtectedRoute>} /> */}

          {/* Fallback */}
          <Route path="*" element={<Navigate to="/" replace />} />
        </Routes>
      </main>
      <Footer />
    </div>
  );
}





client/src/pages/Landing.jsx


import { useEffect, useState } from 'react';
import { api } from '../api.js';
import { Link } from 'react-router-dom';
// import '../css/app.css';

export default function Landing() {
  const [setting, setSetting] = useState(null);

// aqui
   const [reversed, setReversed] = useState(false);

  const toggleOrder = () => {
    setReversed(!reversed);
  };
// asta aqui



  useEffect(() => { api.get('/settings').then(res => setSetting(res.data)); }, []);
  return (
    <>
    {/* aqui */}
    <div className={`grid-container ${reversed ? 'reversed-order' : ''}`}>
        <div className="box box1">Caja 1</div>
        <div className="box box2">Caja 2</div>
        <div className="box box3">Caja 3</div>
      </div>
      <button onClick={toggleOrder}>Cambiar Orden</button>
      
      {/* asta aqui */}


      <section className="relative">
        <img
          src={setting?.bannerImageUrl || 'https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1600&auto=format&fit=crop'}
          alt="Banner"
          className="w-full h-[360px] object-cover"
        />
        <div className="absolute inset-0 bg-black/40 flex items-center">
          <div className="container text-white">
            <h1 className="text-3xl sm:text-5xl font-bold">{setting?.heroTitle || 'Hecho a tu medida'}</h1>
            <p className="mt-2 max-w-xl text-lg">{setting?.heroSubtitle || 'Muebles a medida con calidad artesanal'}</p>
            <div className="mt-5 flex gap-3">
              <Link to="/productos" className="btn">Ver productos</Link>
              <Link to="/cotizar" className="btn bg-white text-black">Solicitar cotización</Link>
            </div>
          </div>
        </div>
      </section>
      <section className="container py-10">
        <h2 className="text-2xl font-semibold">¿Por qué elegirnos?</h2>
        <ul className="grid sm:grid-cols-3 gap-4 mt-4">
          <li className="card">Diseño personalizado</li>
          <li className="card">Materiales de alta calidad</li>
          <li className="card">Entrega puntual</li>
        </ul>
      </section>
    </>
  );
}


client/src/pages/Products.jsx esto es como un catalogo que muestra todos los productos de todos los negocios 

import { useEffect, useState } from 'react';
import { api } from '../api';
import ProductCard from '../components/ProductCard.jsx';
import { useNavigate } from 'react-router-dom';

export default function Products() {
  const [items, setItems] = useState([]);
  const [q, setQ] = useState('');
  const navigate = useNavigate();

  useEffect(() => { api.get('/products').then(res => setItems(res.data)); }, []);

  function search(e) {
    e.preventDefault();
    api.get('/products', { params: { q } }).then(res => setItems(res.data));
  }
  function addToQuote(p) {
    navigate(`/cotizar?productId=${p._id}&productTitle=${encodeURIComponent(p.title)}`);
  }
  return (
    <div className="container py-8">
      <h1 className="text-2xl font-semibold mb-4">Productos</h1>
      <form onSubmit={search} className="flex gap-2 mb-4">
        <input className="input" placeholder="Buscar..." value={q} onChange={e => setQ(e.target.value)} />
        <button className="btn">Buscar</button>
      </form>
      <div className="grid sm:grid-cols-2 md:grid-cols-3 gap-4">
        {items.map(p => <ProductCard key={p._id} p={p} onSelect={addToQuote} />)}
      </div>
    </div>
  );
}



client/src/pages/Quote.jsx


import { useState } from 'react';
import { api } from '../api';
import { useSearchParams } from 'react-router-dom';

export default function Quote() {
  const [params] = useSearchParams();
  const [form, setForm] = useState({
    customerName: '',
    customerEmail: '',
    customerPhone: '',
    message: '',
    product: params.get('productId') || '',
    quantity: 1
  });
  const productTitle = params.get('productTitle');

  function onChange(e) {
    const { name, value } = e.target;
    setForm(f => ({ ...f, [name]: value }));
  }
  async function submit(e) {
    e.preventDefault();
    const data = { ...form};  //por si no hay producto seleccionado no se envia el campo vacio
    if (!data.product) delete data.product;

    const res = await api.post('/quotes', data);
    alert(res.data.message);
    setForm({ customerName: '', customerEmail: '', customerPhone: '', message: '', product: '', quantity: 1 });
  }

  return (
    <div className="container py-8">
      <h1 className="text-2xl font-semibold mb-4">Solicitar cotización</h1>
      {form.product && <div className="mb-4 text-sm">Producto seleccionado: <strong>{productTitle}</strong></div>}
      <form onSubmit={submit} className="grid md:grid-cols-2 gap-4">
        <div>
          <label className="label">Nombre*</label>
          <input className="input" name="customerName" value={form.customerName} onChange={onChange} required />
        </div>
        <div>
          <label className="label">Correo</label>
          <input className="input" name="customerEmail" type="email" value={form.customerEmail} onChange={onChange} />
        </div>
        <div>
          <label className="label">WhatsApp</label>
          <input className="input" name="customerPhone" placeholder="+57XXXXXXXXXX" value={form.customerPhone} onChange={onChange} />
        </div>
        <div>
          <label className="label">Cantidad</label>
          <input className="input" name="quantity" type="number" min="1" value={form.quantity} onChange={onChange} />
        </div>
        <div className="md:col-span-2">
          <label className="label">Mensaje / Detalles</label>
          <textarea className="input h-28" name="message" value={form.message} onChange={onChange} />
        </div>
        <div className="md:col-span-2">
          <button className="btn">Enviar cotización</button>
        </div>
      </form>
    </div>
  );
}


estos seran las pagina publicas que quiero yo es que llegen a la landin hay hay un pequeña introduccion que se puede editar desde la configuracio, esa configuracion por ahora la pueden editar todos los negocios pero mas adelante pondre na expecie de clave para que solo el que tiene esa clae pueda editarlo
quiero  que llegen a la landin puedan ver los productos de todos los negocios y puedan enviar una solicitud de cotizacion y en la parte de abajo este la opcion de mi negocio alli te envia a iniciar seccion y entran a lo que es el manejo de inventario y todo esto

